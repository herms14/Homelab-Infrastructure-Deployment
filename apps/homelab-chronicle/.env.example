# =============================================================================
# Homelab Chronicle - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Generate secrets with: openssl rand -base64 32

# =============================================================================
# Database
# =============================================================================
# SQLite database path (relative to project root or absolute)
DATABASE_URL="file:./data/chronicle.db"

# =============================================================================
# NextAuth Configuration (Required)
# =============================================================================
# Your application URL (no trailing slash)
NEXTAUTH_URL="http://localhost:3000"

# Secret for encrypting sessions - MUST be generated and kept secret
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-here-generate-with-openssl-rand-base64-32"

# =============================================================================
# Authentication Provider (Optional - choose one or none for no auth)
# =============================================================================

# --- Option A: Authentik OAuth ---
AUTHENTIK_CLIENT_ID="your-authentik-client-id"
AUTHENTIK_CLIENT_SECRET="your-authentik-client-secret"
AUTHENTIK_ISSUER="https://auth.yourdomain.com/application/o/homelab-chronicle/"

# --- Option B: Generic OAuth (uncomment if using) ---
# OAUTH_CLIENT_ID="your-oauth-client-id"
# OAUTH_CLIENT_SECRET="your-oauth-client-secret"
# OAUTH_ISSUER="https://your-oauth-provider.com"

# =============================================================================
# GitHub Integration (Optional)
# =============================================================================
# Personal access token for API calls (increases rate limit)
# Create at: https://github.com/settings/tokens
# Required scopes: repo (for private repos) or public_repo (for public only)
GITHUB_TOKEN=""

# Repository to sync commits from (format: owner/repo)
GITHUB_REPO="yourusername/your-infra-repo"

# Webhook secret for receiving GitHub webhooks
# Generate with: openssl rand -hex 32
GITHUB_WEBHOOK_SECRET=""

# =============================================================================
# GitLab Integration (Optional)
# =============================================================================
# Webhook secret for receiving GitLab webhooks
GITLAB_WEBHOOK_SECRET=""

# =============================================================================
# Prometheus/Alertmanager Integration (Optional)
# =============================================================================
# No configuration needed - just point Alertmanager webhook to:
# POST /api/webhooks/prometheus

# =============================================================================
# Watchtower Integration (Optional)
# =============================================================================
# No configuration needed - just add webhook notification to Watchtower:
# WATCHTOWER_NOTIFICATION_URL=http://chronicle:3000/api/webhooks/watchtower

# =============================================================================
# Obsidian Sync (Optional)
# =============================================================================
# Path to your Obsidian vault (for local sync)
# OBSIDIAN_VAULT_PATH="/path/to/your/obsidian/vault"
# OBSIDIAN_CHRONICLE_FOLDER="Homelab Chronicle"

# =============================================================================
# Upload Settings (Optional)
# =============================================================================
# Maximum upload file size in bytes (default: 10MB)
# MAX_UPLOAD_SIZE="10485760"

# =============================================================================
# Feature Flags (Optional)
# =============================================================================
# Disable authentication (useful for local/trusted network deployment)
# DISABLE_AUTH="false"

# Enable debug logging
# DEBUG="false"
